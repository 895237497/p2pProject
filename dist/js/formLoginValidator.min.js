$(function(){$("#loginForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名不能为空"},stringLength:{min:6,max:18,message:"用户名长度必须在6~18位之间"}}},password:{validators:{notEmpty:{message:"密码必须填写"},stringLength:{min:6,message:"密码长度必须大于6位"}}}}}).on("success.form.bv",function(o){o.preventDefault();var a=$(o.target),n=(a.data("bootstrapValidator"),a.serialize());$.post("api/checkLogin.php",n,function(o){if(console.log("返回的结果是",o),$("#regLoginModal .modal-title").text("用户登录提示"),o.isSuccess){$("#regLoginModal .modal-body").html("<span class='glyphicon glyphicon-ok'></span>"+o.msg+"等待 <span id='count'>5</span> 秒后自动跳转"),$("#regLoginModal").modal("show");var a=5,n=setInterval(function(){a--,$("#count").text(a),0==a&&(clearInterval(n),location.href="personal.php")},1e3)}else $("#regLoginModal .modal-body").html("<span class='glyphicon glyphicon-remove'></span>"+o.msg),$("#regLoginModal").modal("show"),console.log(o.msg)},"json")})});